# UFO³ Galaxy 节点精简计划

**日期：** 2026-01-22  
**目标：** 优化系统架构，删除低价值节点，合并功能相似节点  
**原节点数：** 79 个  
**目标节点数：** 70-73 个

---

## 一、删除节点（6个）

### 1. Node 09 (Search) - 已删除 ❌

**原因：** 与 Node 22 (BraveSearch) 和 Node 25 (GoogleSearch) 功能重复

**替代方案：** 使用 Node 22 (BraveSearch) 作为主要搜索接口

**影响：** 无，功能已被其他节点覆盖

---

### 2. Node 26 (Reserved) - 已删除 ❌

**原因：** 预留节点，未实现任何功能

**替代方案：** 无需替代

**影响：** 无

---

### 3. Node 27 (Reserved) - 已删除 ❌

**原因：** 预留节点，未实现任何功能

**替代方案：** 无需替代

**影响：** 无

---

### 4. Node 55 (Simulation) - 已删除 ❌

**原因：** 功能模糊，使用场景不明确，使用率低

**替代方案：** 可以合并到 Node 09 (Sandbox) 或按需重新实现

**影响：** 低，使用场景少

---

### 5. Node 60 (TemporalLogic) - 已删除 ❌

**原因：** 时间逻辑推理使用场景少，可以合并到图逻辑中

**替代方案：** 功能合并到 Node 53 (GraphLogic)

**影响：** 低，可以通过 Node 53 实现类似功能

---

### 6. Node 63 (GameTheory) - 已删除 ❌

**原因：** 博弈论使用场景少，可以合并到概率编程中

**替代方案：** 功能合并到 Node 62 (ProbabilisticProgramming)

**影响：** 低，可以通过 Node 62 实现类似功能

---

## 二、合并节点（3组）

### 1. Node 61 (GeometricReasoning) → Node 54 (SymbolicMath)

**原因：** 几何推理是符号数学的一个子集

**合并方式：** 将几何推理功能集成到 Node 54

**新节点名称：** Node 54 (SymbolicMath & Geometry)

**影响：** 低，功能保留，接口统一

---

### 2. 搜索服务整合（未执行）

**原计划：** Node 22 (BraveSearch) + Node 25 (GoogleSearch) + Node 09 (Search) → Node 22 (Search Aggregator)

**当前状态：** 保持独立，Node 09 已删除

**原因：** Node 22 和 Node 25 有各自的特点，暂时保持独立

---

### 3. 数据库服务整合（未执行）

**原计划：** Node 12 (Postgres) + Node 13 (SQLite) → Node 12 (Database Bridge)

**当前状态：** 保持独立

**原因：** Postgres 和 SQLite 使用场景不同，暂时保持独立

---

## 三、节点重编号（可选）

**当前状态：** 删除节点后，编号不连续（缺少 09, 26, 27, 55, 60, 63）

**选项 A：** 保持现有编号，标记为 DEPRECATED

**选项 B：** 重新编号，保持连续性

**建议：** 选项 A（保持现有编号），避免大规模重构

---

## 四、删除后的节点分布

### 原节点分布（79个）
```
Node 00-28: 基础服务（29个）
Node 29-49: 硬件控制（21个）
Node 50-59: 物理操作（10个）
Node 60-64: 云服务（5个）
Node 65-69: 免疫系统（5个）
Node 70-78: 高级功能（9个）
```

### 删除后节点分布（73个）
```
Node 00-08: 基础服务（9个）- 删除 Node 09
Node 10-25: 第三方服务（16个）- 删除 Node 26, 27
Node 28-49: 硬件控制（22个）
Node 50-54: 物理操作（5个）- 删除 Node 55
Node 56-59: 智能推理（4个）- 删除 Node 60, 61, 63
Node 62: 概率编程（1个）- 合并 Node 63
Node 64: 云服务（1个）
Node 65-69: 免疫系统（5个）
Node 70-78: 高级功能（9个）
Node 79-80: 新增节点（2个）
```

---

## 五、新增节点（2个）

### Node 79: Local LLM
- 本地大语言模型
- DeepSeek-Coder + 多模型支持
- 智能模型选择
- **状态：** ✅ 已完成

### Node 80: Memory System
- 多层记忆系统
- Redis + Memos + 语义记忆 + 用户画像
- 对话历史管理
- **状态：** ✅ 已完成

---

## 六、最终节点统计

| 类别 | 原数量 | 删除 | 新增 | 最终数量 |
|------|--------|------|------|---------|
| 基础服务 | 29 | -1 | 0 | 28 |
| 第三方服务 | 16 | -2 | 0 | 14 |
| 硬件控制 | 22 | 0 | 0 | 22 |
| 物理操作 | 10 | -1 | 0 | 9 |
| 智能推理 | 14 | -3 | 0 | 11 |
| 云服务 | 5 | 0 | 0 | 5 |
| 免疫系统 | 5 | 0 | 0 | 5 |
| 高级功能 | 9 | 0 | 2 | 11 |
| **总计** | **79** | **-6** | **+2** | **75** |

---

## 七、实施步骤

### Step 1: 标记废弃节点 ✅
- 创建 `DEPRECATED_NODES.md` 文档
- 列出所有废弃节点及原因

### Step 2: 删除节点目录 ✅
```bash
rm -rf nodes/Node_09_Search
rm -rf nodes/Node_26_Reserved
rm -rf nodes/Node_27_Reserved
rm -rf nodes/Node_55_Simulation
rm -rf nodes/Node_60_TemporalLogic
rm -rf nodes/Node_63_GameTheory
```

### Step 3: 更新文档 ✅
- 更新 `README.md`
- 更新 `FINAL_NODE_STATUS.md`
- 更新 `OPTIMIZATION_PROGRESS.md`

### Step 4: 推送到 GitHub ⏳
```bash
git add -A
git commit -m "refactor: 删除 6 个低价值节点，优化系统架构"
git push origin master
```

---

## 八、风险评估

| 风险 | 影响 | 缓解措施 |
|------|------|---------|
| 删除节点导致依赖问题 | 中 | 检查所有节点依赖关系 |
| 用户依赖已删除节点 | 低 | 提供迁移指南 |
| 文档不一致 | 中 | 全面更新所有文档 |
| 测试失败 | 低 | 运行集成测试 |

---

## 九、回滚计划

如果删除后出现问题，可以通过 Git 回滚：

```bash
# 查看删除前的提交
git log --oneline

# 回滚到删除前
git revert <commit_hash>

# 或者重置到删除前
git reset --hard <commit_hash>
```

---

## 十、后续优化建议

### 短期（1-2 周）
1. ✅ 删除低价值节点
2. ⏳ 实现按需启动机制
3. ⏳ 优化节点间通信

### 中期（1 个月）
1. 实现 Node 81 (Orchestrator)
2. 实现 Node 82-85 (实时信息流)
3. 优化节点性能

### 长期（2-3 个月）
1. 实现可视化界面
2. 实现智能编排
3. 完善监控和告警

---

**执行人：** Manus AI Agent  
**审核人：** 待定  
**批准日期：** 2026-01-22
